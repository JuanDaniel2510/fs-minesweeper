{"version":3,"sources":["js/scripts.js"],"names":["WIDTH","HEIGHT","nUnchekedBoxes","MINES","totalNMines","flaggedMines","nFlags","play","win","lose","graphics","undiscovered","x","y","discovered","nMine","flag","wrn_flag","mine_lc","mine_ex","quest_1","quest_2","digit","face","normal","quessing","dead","pressed","PX_WIDTH_BOX","PX_HEIGHT_BOX","minefield","indicators","timer","document","querySelector","HTMLObj","getElementById","minecounter","form","radio","beginner","intermediate","expert","custom","number","width","height","nMines","addEventListener","e","facePressed","restoreFace","newGame","pressedFace","timeIntervalID","timeStar","totalTime","lastSecond","checkForm","preset","value","disabled","customForm","console","log","innerHTML","Array","i","j","mine","flaged","showed","minefieldDOM","mineDOM","createElement","classList","add","setAttribute","check","appendChild","style","transform","fillField","setCounter","clearInterval","setInterval","Date","getTime","placedMines","Math","floor","random","loseGame","backgroundPosition","winGame","winDate","winMSN","getHours","getMinutes","getSeconds","getMilliseconds","alert","currTime","obj","num","getDigit","abs","pow"],"mappings":";AAAA,IAAIA,EAAQ,EACRC,EAAS,EAETC,EAAiB,EAEjBC,EAAQ,GACRC,EAAc,EACdC,EAAe,EACfC,EAAS,EAETC,GAAO,EACPC,GAAM,EACNC,GAAO,EAELC,EAAW,CACfC,aAAc,CAAEC,EAAG,EAAGC,GAAI,IAC1BC,WAAY,CAAEF,GAAI,GAAIC,GAAI,IAC1BE,MAAO,CACL,CAAEH,EAAG,EAAGC,EAAG,GACX,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,GAAIC,EAAG,GACb,CAAED,GAAI,IAAKC,EAAG,GACd,CAAED,GAAI,IAAKC,EAAG,IAEhBG,KAAM,CAAEJ,GAAI,GAAIC,GAAI,IACpBI,SAAU,CAAEL,GAAI,GAAIC,GAAI,IACxBK,QAAS,CAAEN,GAAI,GAAIC,GAAI,IACvBM,QAAS,CAAEP,GAAI,GAAIC,GAAI,IACvBO,QAAS,CAAER,GAAI,GAAIC,GAAI,IACvBQ,QAAS,CAAET,GAAI,IAAKC,GAAI,IACxBS,MAAO,CACL,CAAEV,EAAG,EAAGC,GAAI,IACZ,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,GAAIC,GAAI,IACd,CAAED,GAAI,IAAKC,GAAI,IACf,CAAED,GAAI,IAAKC,GAAI,KAEjBU,KAAM,CACJC,OAAQ,CAAEZ,EAAG,EAAGC,GAAI,IACpBY,SAAU,CAAEb,GAAI,GAAIC,GAAI,IACxBa,KAAM,CAAEd,GAAI,GAAIC,GAAI,IACpBL,IAAK,CAAEI,GAAI,GAAIC,GAAI,IACnBc,QAAS,CAAEf,GAAI,IAAKC,GAAI,MAItBe,EAAe,GACfC,EAAgB,GAElBC,EAAY,KAEVC,EAAa,CACjBC,MAAO,CACLV,MAAO,CACLW,SAASC,cAAc,oBACvBD,SAASC,cAAc,oBACvBD,SAASC,cAAc,qBAEzBC,QAASF,SAASG,eAAe,UAEnCb,KAAM,CACJY,QAASF,SAASG,eAAe,SAEnCC,YAAa,CACXf,MAAO,CACLW,SAASC,cAAc,0BACvBD,SAASC,cAAc,0BACvBD,SAASC,cAAc,2BAEzBC,QAASF,SAASG,eAAe,iBAI/BE,EAAO,CACXC,MAAO,CACLC,SAAUP,SAASG,eAAe,WAClCK,aAAcR,SAASG,eAAe,WACtCM,OAAQT,SAASG,eAAe,WAChCO,OAAQV,SAASG,eAAe,WAElCQ,OAAQ,CACNC,MAAOZ,SAASG,eAAe,eAC/BU,OAAQb,SAASG,eAAe,gBAChCW,OAAQd,SAASG,eAAe,kBAIpCL,EAAWR,KAAKY,QAAQa,iBAAiB,YAAa,SAASC,GAC7DC,MAEFnB,EAAWR,KAAKY,QAAQa,iBAAiB,WAAY,SAASC,GAC5DE,MAEFpB,EAAWR,KAAKY,QAAQa,iBAAiB,UAAW,SAASC,GAC3DG,IACAD,MAGF,IAAIE,GAAc,EAEdC,EAAiB,EAGjBC,EAAW,KACXC,EAAY,KACZC,EAAa,KAEjB,SAASC,EAAUC,GACTA,OAAAA,GACD,IAAA,WACH3D,EAAQ,EACRsC,EAAKM,OAAOC,MAAMe,MAAQ,EAC1BtB,EAAKM,OAAOC,MAAMgB,UAAW,EAC7B5D,EAAS,EACTqC,EAAKM,OAAOE,OAAOc,MAAQ,EAC3BtB,EAAKM,OAAOE,OAAOe,UAAW,EAC9B1D,EAAQ,GACRmC,EAAKM,OAAOG,OAAOa,MAAQ,GAC3BtB,EAAKM,OAAOG,OAAOc,UAAW,EAC9B,MACG,IAAA,eACH7D,EAAQ,GACRsC,EAAKM,OAAOC,MAAMe,MAAQ,GAC1BtB,EAAKM,OAAOC,MAAMgB,UAAW,EAC7B5D,EAAS,GACTqC,EAAKM,OAAOE,OAAOc,MAAQ,GAC3BtB,EAAKM,OAAOE,OAAOe,UAAW,EAC9B1D,EAAQ,GACRmC,EAAKM,OAAOG,OAAOa,MAAQ,GAC3BtB,EAAKM,OAAOG,OAAOc,UAAW,EAC9B,MACG,IAAA,SACH7D,EAAQ,GACRsC,EAAKM,OAAOC,MAAMe,MAAQ,GAC1BtB,EAAKM,OAAOC,MAAMgB,UAAW,EAC7B5D,EAAS,GACTqC,EAAKM,OAAOE,OAAOc,MAAQ,GAC3BtB,EAAKM,OAAOE,OAAOe,UAAW,EAC9B1D,EAAQ,IACRmC,EAAKM,OAAOG,OAAOa,MAAQ,IAC3BtB,EAAKM,OAAOG,OAAOc,UAAW,EAC9B,MACG,IAAA,SACH7D,EAAQ,EACRsC,EAAKM,OAAOC,MAAMe,MAAQ,EAC1BtB,EAAKM,OAAOC,MAAMgB,UAAW,EAC7B5D,EAAS,EACTqC,EAAKM,OAAOE,OAAOc,MAAQ,EAC3BtB,EAAKM,OAAOE,OAAOe,UAAW,EAC9B1D,EAAQ,GACRmC,EAAKM,OAAOG,OAAOa,MAAQ,GAC3BtB,EAAKM,OAAOG,OAAOc,UAAW,GAKpC,SAASC,IACP9D,EAAQsC,EAAKM,OAAOC,MAAMe,MAC1B3D,EAASqC,EAAKM,OAAOE,OAAOc,MACxBtB,EAAKM,OAAOG,OAAOa,MAAS5D,EAAQC,EAAS,IAAMqC,EAAKM,OAAOG,OAAOa,MAAS5D,EAAQC,EAAS,GACpGE,EAAQmC,EAAKM,OAAOG,OAAOa,MAG7B,SAASR,IACPW,QAAQC,IAAI,KAAOhE,EAAQ,OAASC,EAAS,OAASE,GAEtD2B,EAAY,KACZG,SAASG,eAAe,aAAa6B,UAAY,KAEjDnC,EAAY,IAAIoC,MAAMlE,GACjB,IAAA,IAAImE,EAAI,EAAGA,EAAInE,EAAOmE,IAAOrC,EAAUqC,GAAK,IAAID,MAAMjE,GAEtD,IAAA,IAAIkE,EAAI,EAAGA,EAAInE,EAAOmE,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAInE,EAAQmE,IAC1BtC,EAAUqC,GAAGC,GAAK,CAChBC,MAAM,EACNtB,OAAQ,EACRuB,QAAQ,EACRC,QAAQ,EACRpC,QAAS,MAKV,IAAIiC,IAAAA,EAAAA,SAAAA,GACF,IAAID,IAAAA,EAAAA,SAAAA,GAEDK,IAAAA,EAAevC,SAASG,eAAe,aACvCqC,EAAUxC,SAASyC,cAAc,OACvCD,EAAQE,UAAUC,IAAI,OACtBH,EAAQI,aAAa,KAAYV,MAAAA,OAAAA,EAAKC,KAAAA,OAAAA,IACtCK,EAAQzB,iBAAiB,QAAS,WAAQ8B,EAAMX,EAAGC,KACnDK,EAAQzB,iBAAiB,cAAe,WAAQhC,EAAKmD,EAAGC,KACxDI,EAAaO,YAAYN,IARlBN,EAAI,EAAGA,EAAInE,EAAOmE,IAAlBA,EAAAA,IADFC,EAAI,EAAGA,EAAInE,EAAQmE,IAAnBA,EAAAA,GAcTnC,SAASG,eAAe,aAAa4C,MAAMnC,MAASjB,EAAe5B,EAAS,KAC5EiC,SAASG,eAAe,aAAa4C,MAAMlC,OAAUjB,EAAgB5B,EAAU,KAE/EgC,SAASG,eAAe,UAAU4C,MAAMnC,MAASjB,EAAe5B,EAAS,KAEzEiC,SAASG,eAAe,eAAe4C,MAAMnC,MAAUjB,EAAe5B,EAAS,GAAM,KACrFiC,SAASG,eAAe,eAAe4C,MAAMlC,OAAWjB,EAAgB5B,EAAU,IAAO,KAEzFgC,SAASG,eAAe,QAAQ4C,MAAMC,UAAY,eAAmBrD,EAAe5B,EAAS,KAAO,EAAK,MAEpG,IAAA,IAAImE,EAAI,EAAGA,EAAInE,EAAOmE,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAInE,EAAQmE,IAAOtC,EAAUqC,GAAGC,GAAGjC,QAAUF,SAASG,eAAe,MAAQ+B,EAAI,IAAMC,GAGzGlE,EAAiBF,EAAQC,EAEzBI,EAAe,EACfC,EAAS,EAET4E,EAJA9E,EAAcD,GAMT,IAAA,IAAIS,EAAI,EAAGA,EAAIZ,EAAOY,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAE1B,IADDkC,IAAAA,EAAS,EACJoB,GAAK,EAAGA,GAAK,EAAGA,IAClB,IAAA,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACvBrB,GAAcoB,EAAIvD,EAAI,GAAKwD,EAAIvD,EAAI,GAC/BsD,EAAIvD,GAAKZ,GAASoE,EAAIvD,GAAKZ,IAC7B6B,EAAUlB,EAAIuD,GAAGtD,EAAIuD,GAAGC,KAClB,EAAJ,EAGRvC,EAAUlB,GAAGC,GAAGkC,OAASA,EAG7BxC,GAAO,EACPC,GAAM,EACNC,GAAO,EAEP0E,EAAWpD,EAAWM,YAAajC,GAEnCgF,cAAc9B,GACdA,EAAiB+B,YAAYrD,EAAO,KAGpCuB,GAAY,IAAI+B,MAAQC,UAG1B,SAASL,EAAUnC,GAEVyC,IADHA,IAAAA,EAAc,EACXA,EAAczC,GAAQ,CACrBnC,IAAAA,EAAI6E,KAAKC,MAAMD,KAAKE,SAAW3F,GAC/Ba,EAAI4E,KAAKC,MAAMD,KAAKE,SAAW1F,GAChC6B,EAAUlB,GAAGC,GAAGwD,OACnBvC,EAAUlB,GAAGC,GAAGwD,MAAO,EACvBmB,MAKN,SAASV,EAAMlE,EAAGC,GAEZN,GADJwD,QAAQC,IAAI,IAAMpD,EAAI,IAAMC,EAAI,KAC5BN,IAASuB,EAAUlB,GAAGC,GAAG0D,SAAWzC,EAAUlB,GAAGC,GAAGyD,OAClDxC,GAAAA,EAAUlB,GAAGC,GAAGwD,KAClBuB,IACA9D,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASS,QAAQP,EAAI,MAAQF,EAASS,QAAQN,EAAI,KACrGiB,EAAUlB,GAAGC,GAAG0D,QAAS,MACpB,CAIDzC,GAHJA,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASK,MAAMe,EAAUlB,GAAGC,GAAGkC,QAAQnC,EAAI,MAAQF,EAASK,MAAMe,EAAUlB,GAAGC,GAAGkC,QAAQlC,EAAI,KACjJiB,EAAUlB,GAAGC,GAAG0D,QAAS,EACzBrE,IAC+B,IAA3B4B,EAAUlB,GAAGC,GAAGkC,OACb,IAAA,IAAIoB,GAAK,EAAGA,GAAK,EAAGA,IAClB,IAAA,IAAIC,GAAK,EAAGA,GAAK,EAAGA,IACjBD,EAAIvD,EAAI,GAAKwD,EAAIvD,EAAI,GAAQsD,EAAIvD,GAAKZ,GAASoE,EAAIvD,GAAKZ,GACvD6B,EAAUqC,EAAIvD,GAAGwD,EAAIvD,GAAG0D,QAAUO,EAAMX,EAAIvD,EAAGwD,EAAIvD,GAK5DX,IAAmBE,GAAa0F,KAK1C,SAAS9E,EAAKJ,EAAGC,GACXN,IACGuB,EAAUlB,GAAGC,GAAG0D,SACnBzC,EAAUlB,GAAGC,GAAGyD,QAAUxC,EAAUlB,GAAGC,GAAGyD,OACtCxC,EAAUlB,GAAGC,GAAGyD,QACdxC,EAAUlB,GAAGC,GAAGwD,MAAMhE,IAC1ByB,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASM,KAAKJ,EAAI,MAAQF,EAASM,KAAKH,EAAI,KAC/FP,MAEIwB,EAAUlB,GAAGC,GAAGwD,MAAMhE,IAC1ByB,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASC,aAAaC,EAAI,MAAQF,EAASC,aAAaE,EAAI,KAC/GP,KAEED,IAAiBD,GAAeE,IAAWF,GAAa0F,KAE9DX,EAAWpD,EAAWM,YAAajC,EAAcE,IAIrD,SAASsF,IACPpC,GAAa,IAAI8B,MAAQC,UAAYhC,EAEhC,IAAA,IAAI3C,EAAI,EAAGA,EAAIZ,EAAOY,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAIZ,EAAQY,IACtBiB,EAAUlB,GAAGC,GAAGwD,MAAQvC,EAAUlB,GAAGC,GAAGyD,SAEjCxC,EAAUlB,GAAGC,GAAGwD,KACzBvC,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASQ,QAAQN,EAAI,MAAQF,EAASQ,QAAQL,EAAI,KAC5FiB,EAAUlB,GAAGC,GAAGyD,SACzBxC,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASO,SAASL,EAAI,MAAQF,EAASO,SAASJ,EAAI,OAK7GN,GAAO,EACPE,GAAO,EAEP2E,cAAc9B,GAEdvB,EAAWR,KAAKY,QAAQ6C,MAAMa,mBAAqBnF,EAASa,KAAKG,KAAKd,EAAI,MAAQF,EAASa,KAAKG,KAAKb,EAAI,KAG3G,SAASiF,IACPtC,GAAa,IAAI8B,MAAQC,UAAYhC,EAEhC,IAAA,IAAI3C,EAAI,EAAGA,EAAIZ,EAAOY,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAIZ,EAAQY,IACtBiB,EAAUlB,GAAGC,GAAGwD,OAASvC,EAAUlB,GAAGC,GAAGyD,SAC3CjE,IACAyB,EAAUlB,GAAGC,GAAGsB,QAAQ6C,MAAMa,mBAAqBnF,EAASM,KAAKJ,EAAI,MAAQF,EAASM,KAAKH,EAAI,KAC/FP,KAKN6E,EAAWpD,EAAWM,YAAa,GAEnC9B,GAAO,EACPC,GAAM,EAEN4E,cAAc9B,GAGdvB,EAAWR,KAAKY,QAAQ6C,MAAMa,mBAAqBnF,EAASa,KAAKf,IAAII,EAAI,MAAQF,EAASa,KAAKf,IAAIK,EAAI,KAEjGkF,IAAAA,EAAU,IAAIT,KAAK9B,GACrBwC,EAAS,SACTD,EAAQE,WAAa,IAAGD,GAAUD,EAAQE,WAAa,MACvDF,EAAQG,aAAe,IAAGF,GAAUD,EAAQG,aAAe,MAC3DH,EAAQI,aAAe,IAAGH,GAAUD,EAAQI,aAAe,MAC3DJ,EAAQK,kBAAoB,IAAGJ,GAAUD,EAAQK,kBAAoB,MAEzEC,MAAML,GAGR,SAAS9C,IACPnB,EAAWR,KAAKY,QAAQ6C,MAAMa,mBAAqBnF,EAASa,KAAKI,QAAQf,EAAI,MAAQF,EAASa,KAAKI,QAAQd,EAAI,KAC/GwC,GAAc,EAGhB,SAASF,IACHE,IACOtB,EAAWR,KAAKY,QAAQ6C,MAAMa,mBAAnCrF,EAAwDE,EAASa,KAAKf,IAAII,EAAI,MAAQF,EAASa,KAAKf,IAAIK,EAAI,KACvGJ,EAAyDC,EAASa,KAAKG,KAAKd,EAAI,MAAQF,EAASa,KAAKG,KAAKb,EAAI,KAChEH,EAASa,KAAKC,OAAOZ,EAAI,MAAQF,EAASa,KAAKC,OAAOX,EAAI,KAClHwC,GAAc,GAIlB,SAASrB,IACHsE,IAAAA,GAAY,IAAIhB,MAAQC,UAAY,IAAO,EAE3C9B,IAAe6C,IACjB7C,EAAa6C,EACbA,GAAwB/C,EAAW,IAAQ,EACrB4B,EAAWpD,EAAWC,MAAxCsE,EAAW,IAAoC,IAA4CA,IAInG,SAASnB,EAAWoB,EAAKC,GACvBD,EAAIjF,MAAM,GAAG0D,MAAMa,mBAAqBnF,EAASY,MAAMmF,EAASD,EAAK,IAAI5F,EAAI,MAAQF,EAASY,MAAMmF,EAASD,EAAK,IAAI3F,EAAI,KAC1H0F,EAAIjF,MAAM,GAAG0D,MAAMa,mBAAqBnF,EAASY,MAAMmF,EAASD,EAAK,IAAI5F,EAAI,MAAQF,EAASY,MAAMmF,EAASD,EAAK,IAAI3F,EAAI,KAC1H0F,EAAIjF,MAAM,GAAG0D,MAAMa,mBAAqBnF,EAASY,MAAMmF,EAASD,EAAK,IAAI5F,EAAI,MAAQF,EAASY,MAAMmF,EAASD,EAAK,IAAI3F,EAAI,KAEtH2F,EAAM,IAAKD,EAAIjF,MAAM,GAAG0D,MAAMa,mBAAqBnF,EAASY,MAAM,IAAIV,EAAI,MAAQF,EAASY,MAAM,IAAIT,EAAI,MAG/G,SAAS4F,EAASD,EAAKlF,GACd,OAACmE,KAAKiB,IAAIF,IAASf,KAAKiB,IAAIF,GAAOf,KAAKkB,IAAI,GAAIrF,GAAU,GAAKmE,KAAKkB,IAAI,GAAIrF,IAAUmE,KAAKkB,IAAI,GAAIrF,EAAQ,GAAK,EAGzHW,SAASG,eAAe,WAAWY,iBAAiB,QAAS,WAAQU,EAAU,cAC/EzB,SAASG,eAAe,WAAWY,iBAAiB,QAAS,WAAQU,EAAU,kBAC/EzB,SAASG,eAAe,WAAWY,iBAAiB,QAAS,WAAQU,EAAU,YAC/EzB,SAASG,eAAe,UAAUY,iBAAiB,QAAS,WAAQU,EAAU,YAE9EzB,SAASG,eAAe,eAAeY,iBAAiB,QAASc,GACjE7B,SAASG,eAAe,eAAeY,iBAAiB,WAAYc,GACpE7B,SAASG,eAAe,gBAAgBY,iBAAiB,QAASc,GAClE7B,SAASG,eAAe,gBAAgBY,iBAAiB,WAAYc,GACrE7B,SAASG,eAAe,gBAAgBY,iBAAiB,QAASc,GAClE7B,SAASG,eAAe,gBAAgBY,iBAAiB,WAAYc,GAErE7B,SAASG,eAAe,QAAQY,iBAAiB,QAASI","file":"scripts.ccec560b.js","sourceRoot":"../src","sourcesContent":["let WIDTH = 8;\nlet HEIGHT = 8;\n\nlet nUnchekedBoxes = 0;\n\nlet MINES = 10;\nlet totalNMines = 0;\nlet flaggedMines = 0;\nlet nFlags = 0;\n\nlet play = false;\nlet win = false;\nlet lose = false;\n\nconst graphics = {\n  undiscovered: { x: 0, y: -16 },\n  discovered: { x: -16, y: -16 },\n  nMine: [\n    { x: 0, y: 0 },\n    { x: -16, y: 0 },\n    { x: -32, y: 0 },\n    { x: -48, y: 0 },\n    { x: -64, y: 0 },\n    { x: -80, y: 0 },\n    { x: -96, y: 0 },\n    { x: -112, y: 0 },\n    { x: -128, y: 0 }\n  ],\n  flag: { x: -48, y: -16 },\n  wrn_flag: { x: -64, y: -16 },\n  mine_lc: { x: -32, y: -16 },\n  mine_ex: { x: -80, y: -16 },\n  quest_1: { x: -96, y: -16 }, // unused\n  quest_2: { x: -112, y: -16 }, // unused\n  digit: [\n    { x: 0, y: -33 },\n    { x: -12, y: -33 },\n    { x: -24, y: -33 },\n    { x: -36, y: -33 },\n    { x: -48, y: -33 },\n    { x: -60, y: -33 },\n    { x: -72, y: -33 },\n    { x: -84, y: -33 },\n    { x: -96, y: -33 },\n    { x: -108, y: -33 },\n    { x: -120, y: -33 }\n  ],\n  face: {\n    normal: { x: 0, y: -55 },\n    quessing: { x: -27, y: -55 },\n    dead: { x: -54, y: -55 },\n    win: { x: -81, y: -55 },\n    pressed: { x: -108, y: -55 }\n  }\n};\n\nconst PX_WIDTH_BOX = 16;\nconst PX_HEIGHT_BOX = 16;\n\nlet minefield = null;\n\nconst indicators = {\n  timer: {\n    digit: [\n      document.querySelector(\"#timer > .digit1\"),\n      document.querySelector(\"#timer > .digit2\"),\n      document.querySelector(\"#timer > .digit3\")\n    ],\n    HTMLObj: document.getElementById(\"timer\")\n  },\n  face: {\n    HTMLObj: document.getElementById(\"face\")\n  },\n  minecounter: {\n    digit: [\n      document.querySelector(\"#minecounter > .digit1\"),\n      document.querySelector(\"#minecounter > .digit2\"),\n      document.querySelector(\"#minecounter > .digit3\")\n    ],\n    HTMLObj: document.getElementById(\"minecounter\")\n  }\n};\n\nconst form = {\n  radio: {\n    beginner: document.getElementById(\"Preset1\"),\n    intermediate: document.getElementById(\"Preset2\"),\n    expert: document.getElementById(\"Preset3\"),\n    custom: document.getElementById(\"Custom\")\n  },\n  number: {\n    width: document.getElementById(\"customWidth\"),\n    height: document.getElementById(\"customHeight\"),\n    nMines: document.getElementById(\"customNMines\")\n  }\n};\n\nindicators.face.HTMLObj.addEventListener(\"mousedown\", function(e) {\n  facePressed();\n});\nindicators.face.HTMLObj.addEventListener(\"mouseout\", function(e) {\n  restoreFace();\n});\nindicators.face.HTMLObj.addEventListener(\"mouseup\", function(e) {\n  newGame();\n  restoreFace();\n});\n\nlet pressedFace = false;\n\nlet timeIntervalID = 0;\n// const timerRunning = false;\n\nlet timeStar = null;\nlet totalTime = null;\nlet lastSecond = null;\n\nfunction checkForm(preset) {\n  switch (preset) {\n    case \"Beginner\":\n      WIDTH = 8;\n      form.number.width.value = 8;\n      form.number.width.disabled = true;\n      HEIGHT = 8;\n      form.number.height.value = 8;\n      form.number.height.disabled = true;\n      MINES = 10;\n      form.number.nMines.value = 10;\n      form.number.nMines.disabled = true;\n      break;\n    case \"Intermediate\":\n      WIDTH = 16;\n      form.number.width.value = 16;\n      form.number.width.disabled = true;\n      HEIGHT = 16;\n      form.number.height.value = 16;\n      form.number.height.disabled = true;\n      MINES = 40;\n      form.number.nMines.value = 40;\n      form.number.nMines.disabled = true;\n      break;\n    case \"Expert\":\n      WIDTH = 32;\n      form.number.width.value = 32;\n      form.number.width.disabled = true;\n      HEIGHT = 16;\n      form.number.height.value = 16;\n      form.number.height.disabled = true;\n      MINES = 104;\n      form.number.nMines.value = 104;\n      form.number.nMines.disabled = true;\n      break;\n    case \"Custom\":\n      WIDTH = 8;\n      form.number.width.value = 8;\n      form.number.width.disabled = false;\n      HEIGHT = 8;\n      form.number.height.value = 8;\n      form.number.height.disabled = false;\n      MINES = 10;\n      form.number.nMines.value = 10;\n      form.number.nMines.disabled = false;\n      break;\n  }\n}\n\nfunction customForm() {\n  WIDTH = form.number.width.value;\n  HEIGHT = form.number.height.value;\n  if (form.number.nMines.value > (WIDTH * HEIGHT - 1)) { form.number.nMines.value = (WIDTH * HEIGHT - 1); };\n  MINES = form.number.nMines.value;\n}\n\nfunction newGame() {\n  console.log(\"W:\" + WIDTH + \"  H:\" + HEIGHT + \"  M:\" + MINES);\n\n  minefield = null;\n  document.getElementById(\"minefield\").innerHTML = null;\n\n  minefield = new Array(WIDTH);\n  for (let i = 0; i < WIDTH; i++) { minefield[i] = new Array(HEIGHT); }\n\n  for (let i = 0; i < WIDTH; i++) {\n    for (let j = 0; j < HEIGHT; j++) {\n      minefield[i][j] = {\n        mine: false,\n        nMines: 0,\n        flaged: false,\n        showed: false,\n        HTMLObj: null\n      };\n    }\n  }\n\n  for (let j = 0; j < HEIGHT; j++) {\n    for (let i = 0; i < WIDTH; i++) {\n      //  document.getElementById(\"minefield\").innerHTML += \"<div class=\\\"box\\\" id=\\\"box\" + i + \"-\" + j + \"\\\" onclick=\\\"check(\" + i + \",\" + j + \")\\\" oncontextmenu=\\\"flag(\" + i + \",\" + j + \")\\\"></div>\";\n      const minefieldDOM = document.getElementById(\"minefield\");\n      const mineDOM = document.createElement(\"div\");\n      mineDOM.classList.add(\"box\");\n      mineDOM.setAttribute(\"id\", `box${i}-${j}`);\n      mineDOM.addEventListener(\"click\", () => { check(i, j); });\n      mineDOM.addEventListener(\"contextmenu\", () => { flag(i, j); });\n      minefieldDOM.appendChild(mineDOM);\n    }\n  }\n  // document.getElementById('\"box' + i + '-' + j + '\"').addEventListener(\"click\",()=>{check(i,j)});\n\n  document.getElementById(\"minefield\").style.width = (PX_WIDTH_BOX * WIDTH) + \"px\";\n  document.getElementById(\"minefield\").style.height = (PX_HEIGHT_BOX * HEIGHT) + \"px\";\n\n  document.getElementById(\"header\").style.width = (PX_WIDTH_BOX * WIDTH) + \"px\";\n\n  document.getElementById(\"minesweeper\").style.width = ((PX_WIDTH_BOX * WIDTH) + 32) + \"px\";\n  document.getElementById(\"minesweeper\").style.height = ((PX_HEIGHT_BOX * HEIGHT) + 149) + \"px\";\n\n  document.getElementById(\"face\").style.transform = \"translateX(\" + (((PX_WIDTH_BOX * WIDTH) - 116) / 2) + \"px)\";\n\n  for (let i = 0; i < WIDTH; i++) {\n    for (let j = 0; j < HEIGHT; j++) { minefield[i][j].HTMLObj = document.getElementById(\"box\" + i + \"-\" + j); }\n  }\n\n  nUnchekedBoxes = WIDTH * HEIGHT;\n  totalNMines = MINES;\n  flaggedMines = 0;\n  nFlags = 0;\n\n  fillField(totalNMines);\n\n  for (let x = 0; x < WIDTH; x++) {\n    for (let y = 0; y < HEIGHT; y++) {\n      let nMines = 0;\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          nMines += ((!(i + x < 0 || j + y < 0) &&\n            !(i + x >= WIDTH || j + y >= HEIGHT) &&\n            minefield[x + i][y + j].mine\n          ) ? 1 : 0);\n        }\n      }\n      minefield[x][y].nMines = nMines;\n    }\n  }\n  play = true;\n  win = false;\n  lose = false;\n\n  setCounter(indicators.minecounter, totalNMines);\n\n  clearInterval(timeIntervalID);\n  timeIntervalID = setInterval(timer, 250);\n  // timerRunning = true;\n\n  timeStar = (new Date()).getTime();\n}\n\nfunction fillField(nMines) {\n  let placedMines = 0;\n  while (placedMines < nMines) {\n    const x = Math.floor(Math.random() * WIDTH);\n    const y = Math.floor(Math.random() * HEIGHT);\n    if (!minefield[x][y].mine) {\n      minefield[x][y].mine = true;\n      placedMines++;\n    }\n  }\n}\n\nfunction check(x, y) {\n  console.log(\"(\" + x + \",\" + y + \")\");\n  if (play && !minefield[x][y].showed && !minefield[x][y].flaged) {\n    if (minefield[x][y].mine) {\n      loseGame();\n      minefield[x][y].HTMLObj.style.backgroundPosition = graphics.mine_ex.x + \"px \" + graphics.mine_ex.y + \"px\";\n      minefield[x][y].showed = true;\n    } else {\n      minefield[x][y].HTMLObj.style.backgroundPosition = graphics.nMine[minefield[x][y].nMines].x + \"px \" + graphics.nMine[minefield[x][y].nMines].y + \"px\";\n      minefield[x][y].showed = true;\n      nUnchekedBoxes--;\n      if (minefield[x][y].nMines === 0) {\n        for (let i = -1; i <= 1; i++) {\n          for (let j = -1; j <= 1; j++) {\n            if (!(i + x < 0 || j + y < 0) && !(i + x >= WIDTH || j + y >= HEIGHT)) {\n              if (!minefield[i + x][j + y].showed) { check(i + x, j + y); }\n            }\n          }\n        }\n      }\n      if (nUnchekedBoxes === totalNMines) winGame();\n    }\n  }\n}\n\nfunction flag(x, y) {\n  if (play) {\n    if (!minefield[x][y].showed) {\n      minefield[x][y].flaged = !minefield[x][y].flaged;\n      if (minefield[x][y].flaged) {\n        if (minefield[x][y].mine) flaggedMines++;\n        minefield[x][y].HTMLObj.style.backgroundPosition = graphics.flag.x + \"px \" + graphics.flag.y + \"px\";\n        nFlags++;\n      } else {\n        if (minefield[x][y].mine) flaggedMines--;\n        minefield[x][y].HTMLObj.style.backgroundPosition = graphics.undiscovered.x + \"px \" + graphics.undiscovered.y + \"px\";\n        nFlags--;\n      }\n      if (flaggedMines === totalNMines && nFlags === totalNMines) winGame();\n    }\n    setCounter(indicators.minecounter, totalNMines - nFlags);\n  }\n}\n\nfunction loseGame() {\n  totalTime = (new Date()).getTime() - timeStar;\n\n  for (let x = 0; x < WIDTH; x++) {\n    for (let y = 0; y < HEIGHT; y++) {\n      if (minefield[x][y].mine && minefield[x][y].flaged) {\n      // Do nothing\n      } else if (minefield[x][y].mine) {\n        minefield[x][y].HTMLObj.style.backgroundPosition = graphics.mine_lc.x + \"px \" + graphics.mine_lc.y + \"px\";\n      } else if (minefield[x][y].flaged) {\n        minefield[x][y].HTMLObj.style.backgroundPosition = graphics.wrn_flag.x + \"px \" + graphics.wrn_flag.y + \"px\";\n      }\n    }\n  }\n\n  play = false;\n  lose = true;\n\n  clearInterval(timeIntervalID);\n  // timerRunning = false;\n  indicators.face.HTMLObj.style.backgroundPosition = graphics.face.dead.x + \"px \" + graphics.face.dead.y + \"px\";\n}\n\nfunction winGame() {\n  totalTime = (new Date()).getTime() - timeStar;\n\n  for (let x = 0; x < WIDTH; x++) {\n    for (let y = 0; y < HEIGHT; y++) {\n      if (minefield[x][y].mine && !minefield[x][y].flaged) {\n        flaggedMines++;\n        minefield[x][y].HTMLObj.style.backgroundPosition = graphics.flag.x + \"px \" + graphics.flag.y + \"px\";\n        nFlags++;\n      }\n    }\n  }\n\n  setCounter(indicators.minecounter, 0);\n\n  play = false;\n  win = true;\n\n  clearInterval(timeIntervalID);\n  // timerRunning = false;\n\n  indicators.face.HTMLObj.style.backgroundPosition = graphics.face.win.x + \"px \" + graphics.face.win.y + \"px\";\n\n  const winDate = new Date(totalTime);\n  let winMSN = \"Time: \";\n  if (winDate.getHours() > 0) winMSN += winDate.getHours() + \"h \";\n  if (winDate.getMinutes() > 0) winMSN += winDate.getMinutes() + \"m \";\n  if (winDate.getSeconds() > 0) winMSN += winDate.getSeconds() + \"s \";\n  if (winDate.getMilliseconds() > 0) winMSN += winDate.getMilliseconds() + \"ms\";\n\n  alert(winMSN);\n}\n\nfunction facePressed() {\n  indicators.face.HTMLObj.style.backgroundPosition = graphics.face.pressed.x + \"px \" + graphics.face.pressed.y + \"px\";\n  pressedFace = true;\n}\n\nfunction restoreFace() {\n  if (pressedFace) {\n    if (win) indicators.face.HTMLObj.style.backgroundPosition = graphics.face.win.x + \"px \" + graphics.face.win.y + \"px\";\n    else if (lose) indicators.face.HTMLObj.style.backgroundPosition = graphics.face.dead.x + \"px \" + graphics.face.dead.y + \"px\";\n    else indicators.face.HTMLObj.style.backgroundPosition = graphics.face.normal.x + \"px \" + graphics.face.normal.y + \"px\";\n    pressedFace = false;\n  }\n}\n\nfunction timer() {\n  let currTime = (new Date()).getTime() / 1000 | 0;\n\n  if (lastSecond !== currTime) {\n    lastSecond = currTime;\n    currTime = currTime - ((timeStar / 1000) | 0);\n    if (currTime > 999) { setCounter(indicators.timer, 999); } else { setCounter(indicators.timer, currTime); }\n  }\n}\n\nfunction setCounter(obj, num) {\n  obj.digit[0].style.backgroundPosition = graphics.digit[getDigit(num, 3)].x + \"px \" + graphics.digit[getDigit(num, 3)].y + \"px\";\n  obj.digit[1].style.backgroundPosition = graphics.digit[getDigit(num, 2)].x + \"px \" + graphics.digit[getDigit(num, 2)].y + \"px\";\n  obj.digit[2].style.backgroundPosition = graphics.digit[getDigit(num, 1)].x + \"px \" + graphics.digit[getDigit(num, 1)].y + \"px\";\n\n  if (num < 0) { obj.digit[0].style.backgroundPosition = graphics.digit[10].x + \"px \" + graphics.digit[10].y + \"px\"; }\n}\n\nfunction getDigit(num, digit) {\n  return (Math.abs(num) - ((Math.abs(num) / Math.pow(10, digit)) | 0) * Math.pow(10, digit)) / Math.pow(10, digit - 1) | 0;\n}\n\ndocument.getElementById(\"Preset1\").addEventListener(\"click\", () => { checkForm(\"Beginner\"); });\ndocument.getElementById(\"Preset2\").addEventListener(\"click\", () => { checkForm(\"Intermediate\"); });\ndocument.getElementById(\"Preset3\").addEventListener(\"click\", () => { checkForm(\"Expert\"); });\ndocument.getElementById(\"Custom\").addEventListener(\"click\", () => { checkForm(\"Custom\"); });\n\ndocument.getElementById(\"customWidth\").addEventListener(\"click\", customForm);\ndocument.getElementById(\"customWidth\").addEventListener(\"keypress\", customForm);\ndocument.getElementById(\"customHeight\").addEventListener(\"click\", customForm);\ndocument.getElementById(\"customHeight\").addEventListener(\"keypress\", customForm);\ndocument.getElementById(\"customNMines\").addEventListener(\"click\", customForm);\ndocument.getElementById(\"customNMines\").addEventListener(\"keypress\", customForm);\n\ndocument.getElementById(\"play\").addEventListener(\"click\", newGame);\n/* document.getElementById(\"play\").addEventListener(\"keypress\", () => {\n  setTimeout(function() { newGame(); }, 10);\n  return false;\n}); */\n"]}